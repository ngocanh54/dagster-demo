# Example pipeline configuration
# Similar to Airflow's DAG config YAML pattern
#
# This file defines an entire data pipeline in YAML format.
# The AssetBuilder will read this and create Dagster assets dynamically.

assets:
  # Fetch users from API
  api_users:
    type: api_fetch
    url: https://jsonplaceholder.typicode.com/users
    description: Fetch user data from JSONPlaceholder API

  # Fetch posts from API
  api_posts:
    type: api_fetch
    url: https://jsonplaceholder.typicode.com/posts
    description: Fetch posts data from JSONPlaceholder API

  # Transform and combine data
  combined_data:
    type: transform
    description: Combine users and posts data
    depends_on:
      - api_users
      - api_posts

  # Analytics output
  final_analytics:
    type: transform
    description: Generate final analytics
    sql_file: queries/analytics.sql  # Optional SQL file reference
    depends_on:
      - combined_data
